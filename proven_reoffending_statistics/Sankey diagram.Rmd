---
title: "Proven adult reoffending - Sankey diagram"
output: html_document
---

<br>

The Sankey diagram below visualises the flow of adult offenders through the criminal justice system for the Jul-2013 to Jun-2014 cohort. The proportion of offenders who reoffend are shown in brackets.

*Please note:* the figures are rounded and the number of offenders in each disposal category do not add up to the total number of offenders because some will appear in a disposal category more than once.

<br>

```{r, echo=FALSE,message=FALSE,warning=FALSE}
library(networkD3)

df <- list(
  links = data.frame(
    source = c(0,0,0,0,0,3,3,6,6,6,7,7,7),
    target = c(1,2,3,4,5,6,7,8,9,10,11,12,13),
    value = c(18000,135000,171000,145000,57000,123000,57000,4000,36000,84000,27000,30000,600)),
  nodes = data.frame(
    name=c("All Adult offenders (25%)",
           "Other (47%)",
           "Fine (28%)",
           "Custody or Court Order (35%)",
           "Caution (17%)",
           "Absolute/Conditional Discharge (32%)",
           "Court Order (34%)",
           "Custody (46%)",
           "Suspended Sentence Order without requirements (36%)",
           "Suspended Sentence Order with requirements (30%)",
           "Community Order (35%)",
           "Determinate - Less than 12 months (60%)",
           "Determinate - 12 months or more (34%)",
           "Life (10%)")))

sankeyNetwork(df$links,
              df$nodes,
              Value = "value", NodeID = "name",
              fontSize = 10, nodeWidth = 30, colourScale = "d3.scale.category10()",
              width = 900)
```

<br>

Data source: Ministry of Justice (2016). *Proven Reoffending Statistics - Quarterly Bulletin. July 2013 to June 2014, England and Wales*, page 14, Figure 7. Available [online](https://www.gov.uk/government/uploads/system/uploads/attachment_data/file/519643/proven-reoffending-2014Q2.pdf)
